/* Integration: Dockview theme overrides */
/* Override dockview's default theme variables with explicit targeting */

/* Target the trad-dockview class and all dockview internal elements */
.trad-dockview,
.trad-dockview .dv-dockview,
.trad-dockview .dv-groupview,
.trad-dockview .dv-tabs-and-actions-container,
.trad-dockview .dv-tab {
  /* Core layout and sizing (matching dockview defaults) */
  --dv-tabs-and-actions-container-font-size: 13px !important;
  --dv-tabs-and-actions-container-height: 28px !important;
  --dv-tab-close-icon: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" d="M6 4.586L2.707 1.293a1 1 0 00-1.414 1.414L4.586 6 1.293 9.293a1 1 0 101.414 1.414L6 7.414l3.293 3.293a1 1 0 001.414-1.414L7.414 6l3.293-3.293a1 1 0 00-1.414-1.414L6 4.586z"/></svg>') !important;

  /* Background and surface colors */
  --dv-background-color: var(--color-bg) !important;
  --dv-group-view-background-color: var(--panel-bg) !important;
  --dv-tabs-and-actions-container-background-color: var(--panel-header-bg) !important;

  /* Active group tabs */
  --dv-activegroup-visiblepanel-tab-background-color: var(--panel-header-bg) !important;
  --dv-activegroup-hiddenpanel-tab-background-color: var(--color-bg-tertiary) !important;
  --dv-activegroup-visiblepanel-tab-color: var(--color-text-dim) !important;
  --dv-activegroup-hiddenpanel-tab-color: var(--color-text-dim) !important;

  /* Inactive group tabs */
  --dv-inactivegroup-visiblepanel-tab-background-color: var(--color-bg-secondary) !important;
  --dv-inactivegroup-hiddenpanel-tab-background-color: var(--color-bg-tertiary) !important;
  --dv-inactivegroup-visiblepanel-tab-color: var(--color-text-dim) !important;
  --dv-inactivegroup-hiddenpanel-tab-color: var(--color-text-dim) !important;

  /* Borders and dividers */
  --dv-separator-border: 1px solid var(--border-color) !important;
  --dv-paneview-header-border-color: var(--panel-border-inner) !important;
  --dv-tab-divider-color: var(--panel-border-inner) !important;
  --dv-paneview-active-outline-color: var(--accent-color) !important;
  --dv-active-sash-color: var(--accent-color) !important;
  --dv-sash-color: var(--border-color) !important;

  /* Interactive states */
  --dv-icon-hover-background-color: color-mix(
    in srgb,
    var(--accent-color) 15%,
    transparent
  ) !important;
  --dv-drag-over-background-color: color-mix(
    in srgb,
    var(--accent-color) 10%,
    transparent
  ) !important;
  --dv-drag-over-border-color: var(--accent-color) !important;

  /* Scrollbar styling */
  --dv-tabs-container-scrollbar-color: var(--scrollbar-thumb) !important;
  --dv-scrollbar-background-color: var(--scrollbar-track) !important;

  /* Shadow for floating panels */
  --dv-floating-box-shadow:
    0 4px 8px color-mix(in srgb, var(--color-text) 15%, transparent),
    0 1px 3px color-mix(in srgb, var(--color-text) 25%, transparent) !important;

  /* Additional variables found in dockview source */
  --dv-tab-font-size: inherit !important;
  --dv-border-radius: 0px !important;
  --dv-tab-margin: 0 !important;
  --dv-active-sash-transition-duration: 0.1s !important;
  --dv-active-sash-transition-delay: 0.5s !important;
  --dv-overlay-z-index: 999 !important;
}

/* Dark theme overrides */
[data-theme='dark'] .trad-dockview,
[data-theme='dark'] .trad-dockview .dv-dockview,
[data-theme='dark'] .trad-dockview .dv-groupview {
  --dv-floating-box-shadow:
    0 4px 16px color-mix(in srgb, #000000 40%, transparent),
    0 1px 4px color-mix(in srgb, #000000 60%, transparent) !important;
}

/* Synthwave theme overrides */
[data-theme='synthwave'] .trad-dockview,
[data-theme='synthwave'] .trad-dockview .dv-dockview,
[data-theme='synthwave'] .trad-dockview .dv-groupview {
  --dv-floating-box-shadow:
    0 4px 16px color-mix(in srgb, #000000 50%, transparent),
    0 1px 4px color-mix(in srgb, var(--accent-color) 20%, transparent),
    0 0 8px color-mix(in srgb, var(--accent-color) 10%, transparent) !important;

  /* Enhanced glow effects for neon theme */
  --dv-paneview-active-outline-color: var(--accent-color) !important;
  --dv-active-sash-color: var(--accent-color) !important;
}

/* Legacy theme overrides */
[data-theme='legacy'] .trad-dockview,
[data-theme='legacy'] .trad-dockview .dv-dockview,
[data-theme='legacy'] .trad-dockview .dv-groupview {
  --dv-floating-box-shadow:
    0 4px 12px color-mix(in srgb, #000000 35%, transparent),
    0 1px 3px color-mix(in srgb, #000000 50%, transparent) !important;
}

/* Fantasy24 theme overrides */
[data-theme='fantasy24'] .trad-dockview,
[data-theme='fantasy24'] .trad-dockview .dv-dockview,
[data-theme='fantasy24'] .trad-dockview .dv-groupview {
  --dv-floating-box-shadow:
    0 4px 12px color-mix(in srgb, #000000 45%, transparent),
    0 1px 3px color-mix(in srgb, var(--color-text) 20%, transparent) !important;
}

/* Tomorrow Night 80s theme overrides */
[data-theme='tomorrowNight80s'] .trad-dockview,
[data-theme='tomorrowNight80s'] .trad-dockview .dv-dockview,
[data-theme='tomorrowNight80s'] .trad-dockview .dv-groupview {
  --dv-floating-box-shadow:
    0 4px 12px color-mix(in srgb, #000000 40%, transparent),
    0 1px 3px color-mix(in srgb, #000000 55%, transparent) !important;
}

/* Monokai theme overrides */
[data-theme='monokai'] .trad-dockview,
[data-theme='monokai'] .trad-dockview .dv-dockview,
[data-theme='monokai'] .trad-dockview .dv-groupview {
  --dv-floating-box-shadow:
    0 4px 12px color-mix(in srgb, #000000 42%, transparent),
    0 1px 3px color-mix(in srgb, #000000 55%, transparent) !important;
}

/* Dracula theme overrides */
[data-theme='dracula'] .trad-dockview,
[data-theme='dracula'] .trad-dockview .dv-dockview,
[data-theme='dracula'] .trad-dockview .dv-groupview {
  --dv-floating-box-shadow:
    0 4px 14px color-mix(in srgb, #000000 45%, transparent),
    0 1px 4px color-mix(in srgb, var(--accent-color) 15%, transparent) !important;
}

/* Nord theme overrides */
[data-theme='nord'] .trad-dockview,
[data-theme='nord'] .trad-dockview .dv-dockview,
[data-theme='nord'] .trad-dockview .dv-groupview {
  --dv-floating-box-shadow:
    0 4px 12px color-mix(in srgb, #000000 38%, transparent),
    0 1px 3px color-mix(in srgb, #000000 50%, transparent) !important;
}

/* Gruvbox theme overrides */
[data-theme='gruvbox'] .trad-dockview,
[data-theme='gruvbox'] .trad-dockview .dv-dockview,
[data-theme='gruvbox'] .trad-dockview .dv-groupview {
  --dv-floating-box-shadow:
    0 4px 12px color-mix(in srgb, #000000 42%, transparent),
    0 1px 3px color-mix(in srgb, #000000 55%, transparent) !important;
}

/* Solarized theme overrides */
[data-theme='solarized'] .trad-dockview,
[data-theme='solarized'] .trad-dockview .dv-dockview,
[data-theme='solarized'] .trad-dockview .dv-groupview {
  --dv-floating-box-shadow:
    0 4px 12px color-mix(in srgb, #000000 40%, transparent),
    0 1px 3px color-mix(in srgb, #000000 52%, transparent) !important;
}

/* One Dark theme overrides */
[data-theme='oneDark'] .trad-dockview,
[data-theme='oneDark'] .trad-dockview .dv-dockview,
[data-theme='oneDark'] .trad-dockview .dv-groupview {
  --dv-floating-box-shadow:
    0 4px 12px color-mix(in srgb, #000000 40%, transparent),
    0 1px 3px color-mix(in srgb, #000000 52%, transparent) !important;
}

/* Catppuccin theme overrides */
[data-theme='catppuccin'] .trad-dockview,
[data-theme='catppuccin'] .trad-dockview .dv-dockview,
[data-theme='catppuccin'] .trad-dockview .dv-groupview {
  --dv-floating-box-shadow:
    0 4px 14px color-mix(in srgb, #000000 45%, transparent),
    0 1px 4px color-mix(in srgb, var(--accent-color) 12%, transparent) !important;
}

/* Tokyo Night theme overrides */
[data-theme='tokyoNight'] .trad-dockview,
[data-theme='tokyoNight'] .trad-dockview .dv-dockview,
[data-theme='tokyoNight'] .trad-dockview .dv-groupview {
  --dv-floating-box-shadow:
    0 4px 14px color-mix(in srgb, #000000 48%, transparent),
    0 1px 4px color-mix(in srgb, var(--accent-color) 10%, transparent) !important;
}

/* Bloomberg theme overrides */
[data-theme='bloomberg'] .trad-dockview,
[data-theme='bloomberg'] .trad-dockview .dv-dockview,
[data-theme='bloomberg'] .trad-dockview .dv-groupview {
  --dv-floating-box-shadow:
    0 4px 16px color-mix(in srgb, #000000 60%, transparent),
    0 1px 4px color-mix(in srgb, var(--accent-color) 20%, transparent) !important;
}

/* Cyberpunk theme overrides */
[data-theme='cyberpunk'] .trad-dockview,
[data-theme='cyberpunk'] .trad-dockview .dv-dockview,
[data-theme='cyberpunk'] .trad-dockview .dv-groupview {
  --dv-floating-box-shadow:
    0 4px 16px color-mix(in srgb, #000000 55%, transparent),
    0 1px 4px color-mix(in srgb, var(--accent-color) 25%, transparent),
    0 0 8px color-mix(in srgb, var(--accent-color) 15%, transparent) !important;
}

/* Ros√© Pine theme overrides */
[data-theme='rosePine'] .trad-dockview,
[data-theme='rosePine'] .trad-dockview .dv-dockview,
[data-theme='rosePine'] .trad-dockview .dv-groupview {
  --dv-floating-box-shadow:
    0 4px 14px color-mix(in srgb, #000000 48%, transparent),
    0 1px 4px color-mix(in srgb, var(--accent-color) 12%, transparent) !important;
}

/* Dockview header alignment + disable close actions */
.trad-dockview .dv-tabs-and-actions-container {
  padding: 0 0.5rem;
  border-bottom: 1px solid var(--panel-border-inner);
}

.trad-dockview .dv-tabs-and-actions-container .dv-tabs-container .dv-tab {
  margin: 0;
}

.trad-dockview .dv-tab .dv-default-tab {
  padding: 0 0.5rem;
}

.trad-dockview .dv-tab .dv-default-tab .dv-default-tab-content {
  margin-right: 0;
}

.trad-dockview .dv-tab .dv-default-tab .dv-default-tab-action,
.trad-dockview .dv-tabs-and-actions-container .dv-right-actions-container {
  display: none !important;
}
